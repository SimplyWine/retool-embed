"use strict";

var _createRetoolEmbed = require("../createRetoolEmbed");
describe("createRetoolEmbed", function () {
  beforeEach(function () {
    document.body.innerHTML = "";
  });
  it("has the correct src for its iframe", function () {
    var client = (0, _createRetoolEmbed.createRetoolEmbed)({
      src: "https://test.onretool.com/embedded/authed/1234"
    });
    expect(client.getAttribute("src")).toBe("https://test.onretool.com/embedded/authed/1234");
    document.body.appendChild(client);
    var clientElement = document.querySelector("retool-embed");
    expect(clientElement).not.toBeNull();
    var iframe = clientElement === null || clientElement === void 0 ? void 0 : clientElement.querySelector("iframe");
    expect(iframe).not.toBeNull();
    expect(iframe === null || iframe === void 0 ? void 0 : iframe.getAttribute("src")).toBe("https://test.onretool.com/embedded/authed/1234");
  });
  it("has the correct style for its iframe", function () {
    var client = (0, _createRetoolEmbed.createRetoolEmbed)({
      src: "https://test.onretool.com/embedded/authed/1234",
      style: "border: 1px solid red"
    });
    document.body.appendChild(client);
    expect(client.customStyle).toBe("border: 1px solid red");
    var iframe = document.querySelector("iframe");
    expect(iframe).not.toBeNull();
    expect(iframe === null || iframe === void 0 ? void 0 : iframe.getAttribute("style")).toBe("border: 1px solid red");
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY3JlYXRlUmV0b29sRW1iZWQiLCJyZXF1aXJlIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiZG9jdW1lbnQiLCJib2R5IiwiaW5uZXJIVE1MIiwiaXQiLCJjbGllbnQiLCJjcmVhdGVSZXRvb2xFbWJlZCIsInNyYyIsImV4cGVjdCIsImdldEF0dHJpYnV0ZSIsInRvQmUiLCJhcHBlbmRDaGlsZCIsImNsaWVudEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibm90IiwidG9CZU51bGwiLCJpZnJhbWUiLCJzdHlsZSIsImN1c3RvbVN0eWxlIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL19fdGVzdHNfXy9jcmVhdGVSZXRvb2xFbWJlZC5zcGVjLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBjcmVhdGVSZXRvb2xFbWJlZCB9IGZyb20gXCIuLi9jcmVhdGVSZXRvb2xFbWJlZFwiO1xuXG5kZXNjcmliZShcImNyZWF0ZVJldG9vbEVtYmVkXCIsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSBcIlwiO1xuICB9KTtcblxuICBpdChcImhhcyB0aGUgY29ycmVjdCBzcmMgZm9yIGl0cyBpZnJhbWVcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGNsaWVudCA9IGNyZWF0ZVJldG9vbEVtYmVkKHtcbiAgICAgIHNyYzogXCJodHRwczovL3Rlc3Qub25yZXRvb2wuY29tL2VtYmVkZGVkL2F1dGhlZC8xMjM0XCIsXG4gICAgfSk7XG5cbiAgICBleHBlY3QoY2xpZW50LmdldEF0dHJpYnV0ZShcInNyY1wiKSkudG9CZShcbiAgICAgIFwiaHR0cHM6Ly90ZXN0Lm9ucmV0b29sLmNvbS9lbWJlZGRlZC9hdXRoZWQvMTIzNFwiXG4gICAgKTtcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2xpZW50KTtcbiAgICBjb25zdCBjbGllbnRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInJldG9vbC1lbWJlZFwiKTtcbiAgICBleHBlY3QoY2xpZW50RWxlbWVudCkubm90LnRvQmVOdWxsKCk7XG4gICAgY29uc3QgaWZyYW1lID0gY2xpZW50RWxlbWVudD8ucXVlcnlTZWxlY3RvcihcImlmcmFtZVwiKTtcbiAgICBleHBlY3QoaWZyYW1lKS5ub3QudG9CZU51bGwoKTtcbiAgICBleHBlY3QoaWZyYW1lPy5nZXRBdHRyaWJ1dGUoXCJzcmNcIikpLnRvQmUoXG4gICAgICBcImh0dHBzOi8vdGVzdC5vbnJldG9vbC5jb20vZW1iZWRkZWQvYXV0aGVkLzEyMzRcIlxuICAgICk7XG4gIH0pO1xuXG4gIGl0KFwiaGFzIHRoZSBjb3JyZWN0IHN0eWxlIGZvciBpdHMgaWZyYW1lXCIsICgpID0+IHtcbiAgICBjb25zdCBjbGllbnQgPSBjcmVhdGVSZXRvb2xFbWJlZCh7XG4gICAgICBzcmM6IFwiaHR0cHM6Ly90ZXN0Lm9ucmV0b29sLmNvbS9lbWJlZGRlZC9hdXRoZWQvMTIzNFwiLFxuICAgICAgc3R5bGU6IFwiYm9yZGVyOiAxcHggc29saWQgcmVkXCIsXG4gICAgfSk7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNsaWVudCk7XG5cbiAgICBleHBlY3QoY2xpZW50LmN1c3RvbVN0eWxlKS50b0JlKFwiYm9yZGVyOiAxcHggc29saWQgcmVkXCIpO1xuICAgIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpZnJhbWVcIik7XG5cbiAgICBleHBlY3QoaWZyYW1lKS5ub3QudG9CZU51bGwoKTtcbiAgICBleHBlY3QoaWZyYW1lPy5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSkudG9CZShcImJvcmRlcjogMXB4IHNvbGlkIHJlZFwiKTtcblxuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaLElBQUFBLGtCQUFBLEdBQUFDLE9BQUE7QUFFQUMsUUFBUSxDQUFDLG1CQUFtQixFQUFFLFlBQU07RUFDbENDLFVBQVUsQ0FBQyxZQUFNO0lBQ2ZDLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDQyxTQUFTLEdBQUcsRUFBRTtFQUM5QixDQUFDLENBQUM7RUFFRkMsRUFBRSxDQUFDLG9DQUFvQyxFQUFFLFlBQU07SUFDN0MsSUFBTUMsTUFBTSxHQUFHLElBQUFDLG9DQUFpQixFQUFDO01BQy9CQyxHQUFHLEVBQUU7SUFDUCxDQUFDLENBQUM7SUFFRkMsTUFBTSxDQUFDSCxNQUFNLENBQUNJLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQ3JDLGdEQUNGLENBQUM7SUFFRFQsUUFBUSxDQUFDQyxJQUFJLENBQUNTLFdBQVcsQ0FBQ04sTUFBTSxDQUFDO0lBQ2pDLElBQU1PLGFBQWEsR0FBR1gsUUFBUSxDQUFDWSxhQUFhLENBQUMsY0FBYyxDQUFDO0lBQzVETCxNQUFNLENBQUNJLGFBQWEsQ0FBQyxDQUFDRSxHQUFHLENBQUNDLFFBQVEsQ0FBQyxDQUFDO0lBQ3BDLElBQU1DLE1BQU0sR0FBR0osYUFBYSxhQUFiQSxhQUFhLHVCQUFiQSxhQUFhLENBQUVDLGFBQWEsQ0FBQyxRQUFRLENBQUM7SUFDckRMLE1BQU0sQ0FBQ1EsTUFBTSxDQUFDLENBQUNGLEdBQUcsQ0FBQ0MsUUFBUSxDQUFDLENBQUM7SUFDN0JQLE1BQU0sQ0FBQ1EsTUFBTSxhQUFOQSxNQUFNLHVCQUFOQSxNQUFNLENBQUVQLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQ3RDLGdEQUNGLENBQUM7RUFDSCxDQUFDLENBQUM7RUFFRk4sRUFBRSxDQUFDLHNDQUFzQyxFQUFFLFlBQU07SUFDL0MsSUFBTUMsTUFBTSxHQUFHLElBQUFDLG9DQUFpQixFQUFDO01BQy9CQyxHQUFHLEVBQUUsZ0RBQWdEO01BQ3JEVSxLQUFLLEVBQUU7SUFDVCxDQUFDLENBQUM7SUFFRmhCLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDUyxXQUFXLENBQUNOLE1BQU0sQ0FBQztJQUVqQ0csTUFBTSxDQUFDSCxNQUFNLENBQUNhLFdBQVcsQ0FBQyxDQUFDUixJQUFJLENBQUMsdUJBQXVCLENBQUM7SUFDeEQsSUFBTU0sTUFBTSxHQUFHZixRQUFRLENBQUNZLGFBQWEsQ0FBQyxRQUFRLENBQUM7SUFFL0NMLE1BQU0sQ0FBQ1EsTUFBTSxDQUFDLENBQUNGLEdBQUcsQ0FBQ0MsUUFBUSxDQUFDLENBQUM7SUFDN0JQLE1BQU0sQ0FBQ1EsTUFBTSxhQUFOQSxNQUFNLHVCQUFOQSxNQUFNLENBQUVQLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQUMsdUJBQXVCLENBQUM7RUFFckUsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119